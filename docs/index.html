<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Description" content="Push up challenge app, and maybe more.">
    <meta name="Keywords" content="exercise, pushups, app, paul clarke, pauly">
    <title>üí™ pushups</title>
    <link rel="preconnect" href="https://accounts.google.com">
    <link rel="preconnect" href="https://ssl.gstatic.com">
    <link rel="preconnect" href="https://content.googleapis.com">
    <link rel="preconnect" href="https://apis.google.com">
    <link rel="icon" type="image/x-icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAADo+/8AcJTLADtg0wCbtvkAkcvwAC9PqgA8br4A/P3YADxzuwAsKy4Au8z7AHKW0QD32sEAaZfmAPf5+QCdxPYA8t/QADJLwgBDZtMAwdP1AIyr6wA8augAPk6wAHCi4wA9V7AAU5PkADBLhACpxP8ALjlGAHek6QAkNHYAIDCFADdjywAyUJMAHyhBABsrSgCy0P8ARojfADxi2gA1SMMAT5HfAC4zPgD//f0AJS5lADRGfwCukIEAOV26AK2WigA0Q5oADylXAFmU8QCgg3YAUn/OAKaHeQBPjtcAHjdLAHCa3wA4TrIAKzuMAEN2vQANGUMAbpTxAB41VwAkN0sANX3bACM4TgAmOVEARG3hALTM2gAuRpIAd6LlAFSe2gD47tIAQ37VAD6D5AA/h94Aw+39ABcsRgARFCMAi3FmACs4ewBMjs8Aq7nYAFR+1QBgm/UAAQMVAFR8iAAPGTsAg673ADVRvAAgN1UAWFloAJCj+gCqj4AATaXVAHWb7ABVlt4AfKrIACo2UgCbfmkAUZPwAFuU2AAxQpkAKDtYACU3ZwA8W10ACw4kABk6ggAwTpkAhJ3pAEGK3wAYLUoANjtYAB8wSgA2OGoAVpG+ALehkgA1R8MAMUB5AGuV9gCrq6cA+fz9ABkzZQAeKWsAITVZAEpGTAB+o88AJThZAAsLJQA9Z64AOkqFAChAXwAYJU4APFrPAJ2FdgAhKDwAQGW6ACs3cQB8qfMAOni0ACg/dwCu4fcAJzuGAFWI0QCa0uYAbp3ZAMa1swBwndkA9v77AF5VVQCReW4ALkCDABUzeACsra4AIy1vADFCkgCZfXEAqsf7ACMucgBzpusAR4PDAMOqkwCy1NoAVIhDACc6YABPf8AAQ37hAAcVKQCwy/4AO1jTAGNkZwBBi9sANkKkABUqVQBbecAAiKTcAPj74QCQkI8AtNf1ACU0jQA1cNMAS4neAK+dowAoN40AN0lgAPv9+QA9iLgATJLnAHGQ+wCoxfYAOkdsAChJnwDi9vcAnHxvAHeVnwAySZYALTleAJyu+gCTvfoAM2vXAH6m9QBJid8AOG3UAGGr4QAKG0UAZYS+AEF0zgD548gAhI55ADNEfwBKgrAAwd/8ADxVugA1M0QAeaPkAGiO0wAWJksAyqWYAEh1KADErZ4ALjtcAFyk1gBPg8UAODxEAGWb1gA8YcwAapfTADta2wBLiNQAPj1HAK2fmQCmpqUApa/+ACc9hgCev/gA+dnGAJfJ+wCKqfYAMD2GAJF9awAxVMEAQn29AFyPzgDy7dUANmOvAF+I3QA/T7sAOlTBADhIegAKEx0AGyNDAJyp9gAtPFcALDdjAGKWHwBXgbcA63RihSebdu45dRbMlZzBTwzbvcpmg00aWivjhH2WXTPP5hvhb873ILTcPq3lL4YtSLYkcY+yX+2fij8j1TVj2QeSTDcP6rVkSUDDQofvodKwEHC4WJ3F6Lymx5eCopBEKvO+IVSv7KDLrCbUS2dz9NrQR0USLATdXgbYmKvJuov+aRdrMbMetzrRpL+7YGGNo1aT8H9sBWh8/PgVbjZQzbk0kRme9i7pjqkfSiVliQGU4BTEmnvGdz0yQ1wNOIHIANZOgGpXUnkTC/tt1+II9dNGKbHnVXrAClNZEYhROwKufvmZqqc8qAP9clsY8f/6IsIJDnjfHPIdMIwo5N6lQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=">
    <meta name="theme-color" content="#ded">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="üí™ pushup challenge counter">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@pauly">
    <meta name="twitter:creator" content="@pauly">
    <meta name="twitter:url" content="https://pauly.github.io/pushups/#">
    <meta name="twitter:title" content="üí™ pushup challenge counter">
    <meta name="twitter:description" content="üí™ count pushups or other arbitrary challenges">
    <style>
      body{margin:0;font-size:1.2em}
      h1,h2,html{font-family:arial,verdana,sans-serif;font-size:1em}
      div,form{border:1px #ddd solid;border-radius:15px;line-height:1.5em;margin:1em;padding:0 1em;background-color:#f9f9f9;max-width:100%}
      p{margin:1em 0}
      a{font-weight:700;color:#60c;margin:1em 1em 1em 0;text-decoration:none}
      h2{background:linear-gradient(#ded,#f9f9f9);border:1px solid #ddd;border-bottom:0;font-size:1.1em;margin:-1px -20px 0;padding:.5em .5em .5em 1em;border-radius:15px 15px 0 0}
    </style>
    <link rel="canonical" href="https://pauly.github.io/pushups/">
    <style>
      body>h1,
      form>label {
        display: block;
      }
      button {
        color: #fff;
        background-color: #60c;
        font-size: 1.2em;
        border: 1px #ddd solid;
        border-radius: 10px;
      }
      button, input {
        line-height: 1.5em;
        padding-left: 1em;
        padding-right: 1em;
        margin: 0.5em 0 0.5em;
      }
      ul, li {
        list-style: none;
        padding: 0 0 0.5em 0;
      }
    </style>
  <meta name="theme-color" content="#ded" /><link rel="manifest" href="/pushups/manifest.1096241710fac3041a2cd4c75e4604fd.json" crossorigin="use-credentials" /><script type="text/javascript">var pushups=function(n){var e={};function t(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.e)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(i,o,function(e){return n[e]}.bind(null,o));return i},t.n=function(n){var e=n&&n.e?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/pushups",t(t.s=0)}([function(n,e,t){"use strict";var i=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var t=[],i=!0,o=!1,r=void 0;try{for(var c,u=n[Symbol.iterator]();!(i=(c=u.next()).done)&&(t.push(c.value),!e||t.length!==e);i=!0);}catch(n){o=!0,r=n}finally{try{!i&&u.return&&u.return()}finally{if(o)throw r}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t(1),r=o.apiKey,c=o.calendarId,u=o.clientId,a=o.discoveryDocs,l=o.icon,s=o.orderBy,f=o.scope,d=o.showDeleted,p=o.singleEvents,v=o.title,h=t(2),g=h.aC,m=h.cE,y=h.html,w=h.id,b=h.on,O=function(n){return n.auth2.getAuthInstance()},j=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;try{return JSON.parse(localStorage.getItem(n))}catch(n){console.log("hmm",n)}},E=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;try{localStorage.setItem(e,JSON.stringify(n))}catch(n){console.log("hmm",n)}},S=j()||[],k=function(){gapi.client.init({apiKey:r,clientId:u,discoveryDocs:a,scope:f}).then(function(){O(gapi).isSignedIn.listen(A),A(O(gapi).isSignedIn.get())})},A=function(n){w("authorise").style.display=n?"none":"block",w("signout").style.display=n?"list-item":"none",n?J():C()},I=function(n){gapi.auth2.getAuthInstance().signIn()},C=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments[4],r=null;n?r="<p>‚ö†Ô∏è "+n+"</p>":(r=t,e&&(r="<h2>"+e+"</h2>"+t)),y(w("content"),r),(i||o)&&setTimeout(function(){location.hash=i},o)},D=function(n,e,t){return function(n,e,t){return gapi.client.calendar.events.list({calendarId:n,timeMin:t,q:e,showDeleted:d,singleEvents:p,orderBy:s}).then(function(n){var e=n.result.items;return e&&e.length?e:j()||[]}).catch(function(n){return j()||[]})}(n,e,t)},N=function(n,e,t){var i=""+l+e+" "+t,o=t+" "+e,r={dateTime:new Date},c={description:o,start:r,end:r,source:{url:location.origin,title:v},summary:i};!function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(i>5e3)return console.error("too many attempts, give up");i+=Math.floor(300*Math.random()),setTimeout(function(){gapi.client.calendar.events.insert({calendarId:e,resource:t}).execute(function(o){switch(o.code){case 403:case 429:case 503:return console.log(o),n(e,t,i)}})},i)}(n,c),S.push(c),E(S)},_=function(n){return function(e,t){var o=function(n){var e=n.description.split(/\W/),t=i(e,2),o=t[0];return{challenge:t[1],number:o=Number(o),date:n.start.dateTime.substr(0,10)}}(t);if(n!==o.challenge)return e;var r=e.find(function(n){return n.date===o.date});return r?r.number+=o.number:e.push(o),e}},M=function(n){return"<li>"+n.number+" "+n.challenge+" ("+n.date+")"},T=function(n){return'<li><a href="#challenge/'+n.id+'">'+n.summary+"</a></li>"},q=function(n){return function(n){new Promise(function(n,e){n([{id:"pushups",summary:"Original pushup challenge"},{id:"situps",summary:"Clare's situp challenge"}])}).then(function(e){if(!e.length){return n('No challenges -\n        <a href="#new">Click here to add a new challenge</a>')}if(1===e.length)return n(null,"Only one event","<p>Redirecting...</p>","challenge/"+e[0].id,500);var t=e.map(T);n(null,"Challenges","<ul>"+t.join("")+"</ul>")})}},J=function(){window.scroll(0,0);var n=location.hash.substr(1).split("/");switch(w("challenge").style.display="none",w("activity").style.display="none",n[0]){case"add":return function n(e,t,i){if(b(w("addActivity"),"click",function(t){t.preventDefault(),n(e,w("number").value,i)}),!t)return w("activity").style.display="block",i(null,"Add activity",'<p>Add <a href="#challenge/'+e+'">'+e+"</a></p>");N(c,e,t),i(null,"Added activity",'<p>Added <a href="#challenge/'+e+'">'+e+"</a></p>","challenge/"+e,1e3)}(n[1],null,C);case"challenge":return function(n,e){D(c,l+n).then(function(t){console.log(n,t);var i=t.reduce(_(n),[]).map(M).join("");e(null,n,'<ul>\n      <li><a href="#add/'+n+'">Add '+n+"</a></li>\n      "+i+"\n      </ul>")})}(n[1],C);case"signout":return function(n){gapi.auth2.getAuthInstance().signOut(),n(null,"Signed you out","","",1e3)}(C)}q()(C)},R=m("script");R.src="https://apis.google.com/js/api.js",g(document.head,R),b(R,"load",function(){window.gapi?b(window,"load",function(){gapi.load("client:auth2",k)}):console.log("no gapi, maybe no cookies?"),b(w("authorise"),"click",I),b(window,"hashchange",J),location.hash=""})},function(n,e,t){"use strict";n.exports={buildDate:(new Date).toString().substr(4,17),description:Object({NODE_ENV:"production",CI_PROJECT_NAME:""}).npm_package_description,title:Object({NODE_ENV:"production",CI_PROJECT_NAME:""}).name,clientId:"1018048405199-urfev6k0pbf5hvkecalg87nk4ab1l4qq.apps.googleusercontent.com",apiKey:"AIzaSyAl21iyJ6I3_hpI0pSt-qD7ZtKFXbpCgUo",icon:"üí™",orderBy:"startTime",singleEvents:!0,calendarId:"primary",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar",serviceWorker:!0,session:{sameSite:!0}}},function(n,e,t){"use strict";var i=document.createElement.bind(document),o="removeChild",r="innerHTML";function c(n,e){n.appendChild(e)}n.exports={on:function(n,e,t){n.addEventListener(e,t,!1)},id:document.getElementById.bind(document),tag:function(n,e){return(e||document).getElementsByTagName(n)},get:function(n,e,t,i){(i=new XMLHttpRequest).open(t||"GET",n,!0),i.onload=function(){e(i.responseText,i.status)},i.send()},json:function(n,e,t,r){r="_cb"+(new Date).getTime(),(t=i("script")).src=n.replace(/(\?|$)/,"?callback="+r+"&"),c(document.body,t),window[r]=function(n){e(n),delete window[r],document.body[o](t)}},aC:c,cE:i,html:function(n,e){if(n){if("string"==typeof e)return void(n[r]=e);for(;n.lastChild;)n[o](n.lastChild);c(n,e)}}}}]);</script><script type="text/javascript">var sw=function(n){var e={};function t(u){if(e[u])return e[u].exports;var r=e[u]={i:u,l:!1,exports:{}};return n[u].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=n,t.c=e,t.d=function(n,e,u){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:u})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.e)return n;var u=Object.create(null);if(t.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(u,r,function(e){return n[e]}.bind(null,r));return u},t.n=function(n){var e=n&&n.e?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/pushups",t(t.s=3)}({3:function(n,e,t){"use strict";self.addEventListener("install",function(n){n.waitUntil(caches.open("-1.0.0").then(function(n){return n.addAll(["/","/index.html"]).then(function(){return self.skipWaiting()})}))}),self.addEventListener("activate",function(n){n.waitUntil(self.clients.claim())}),self.addEventListener("fetch",function(n){n.respondWith(caches.open("-1.0.0").then(function(e){return e.match(n.request,{ignoreSearch:!0})}).then(function(e){return e||fetch(n.request)}))})}});</script></head>
  <body>
    <div>
      <h1><a href="#">üè† home</a></h1>
    </div>
    <form id="challenge" style="display: none">
      <label>
        Name
        <input id="name" placeholder="ie. pushups">
      </label>
      <button id="addChallenge">Submit</button>
    </form>
    <form id="activity" style="display: none">
      <label>
        <input id="number" type="number" value="10" placeholder="ie. 10">
      </label>
      <button id="addActivity">Submit</button>
    </form>
    <div id="content">Loading...</div>
    <div>
      <button id="authorise" style="display: none;">Link your google calendar</button>
    </div>
    <div>
      <h2>Wat?</h2>
      <ul>
        <li>We're doing a pushup challenge, let's count pushups here</li>
        <li>This (optionally) hacks on google calendar, events that look like "üí™pushups 10" will count</li>
        <li>By <a href="http://www.clarkeology.com/blog/">Paul Clarke</a></li>
      </ul>
    </div>
    <div>
      <h2>Privacy / security</h2>
      <ul>
        <li>None of your data is stored in this system, only in your own google calendar, and only if you give permissions</li>
        <li>The permissions to manage your calendar are only to let you manage events in your own calendar from this page</li>
        <li>Google sets cookies in order to keep you signed in and remember your preferences, this page does not</li>
        <li id="signout"><a href="#signout">Click here to sign out</a></li>
      </ul>
    </div>
  </body>
</html>
