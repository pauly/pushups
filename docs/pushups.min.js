var pushups=function(n){var e={};function t(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.e)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(i,o,function(e){return n[e]}.bind(null,o));return i},t.n=function(n){var e=n&&n.e?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/",t(t.s=0)}([function(n,e,t){"use strict";var i=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var t=[],i=!0,o=!1,r=void 0;try{for(var c,u=n[Symbol.iterator]();!(i=(c=u.next()).done)&&(t.push(c.value),!e||t.length!==e);i=!0);}catch(n){o=!0,r=n}finally{try{!i&&u.return&&u.return()}finally{if(o)throw r}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t(1),r=o.apiKey,c=o.calendarId,u=o.clientId,a=o.discoveryDocs,l=o.icon,f=o.orderBy,s=o.scope,d=o.showDeleted,p=o.singleEvents,v=o.title,h=t(2),g=h.aC,m=h.cE,y=h.html,w=h.id,b=h.on,O=function(n){return n.auth2.getAuthInstance()},j=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;try{return JSON.parse(localStorage.getItem(n))}catch(n){console.log("hmm",n)}},E=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;try{localStorage.setItem(e,JSON.stringify(n))}catch(n){console.log("hmm",n)}},S=j()||[],k=function(){gapi.client.init({apiKey:r,clientId:u,discoveryDocs:a,scope:s}).then(function(){O(gapi).isSignedIn.listen(A),A(O(gapi).isSignedIn.get())})},A=function(n){w("authorise").style.display=n?"none":"block",w("signout").style.display=n?"list-item":"none",n?J():C()},I=function(n){gapi.auth2.getAuthInstance().signIn()},C=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments[4],r=null;n?r="<p>‚ö†Ô∏è "+n+"</p>":(r=t,e&&(r="<h2>"+e+"</h2>"+t)),y(w("content"),r),(i||o)&&setTimeout(function(){location.hash=i},o)},D=function(n,e,t){return function(n,e,t){return gapi.client.calendar.events.list({calendarId:n,timeMin:t,q:e,showDeleted:d,singleEvents:p,orderBy:f}).then(function(n){var e=n.result.items;return e&&e.length?e:j()||[]}).catch(function(n){return j()||[]})}(n,e,t)},N=function(n,e,t){var i=""+l+e+" "+t,o=t+" "+e,r={dateTime:new Date},c={description:o,start:r,end:r,source:{url:location.origin,title:v},summary:i};!function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(i>5e3)return console.error("too many attempts, give up");i+=Math.floor(300*Math.random()),setTimeout(function(){gapi.client.calendar.events.insert({calendarId:e,resource:t}).execute(function(o){switch(o.code){case 403:case 429:case 503:return console.log(o),n(e,t,i)}})},i)}(n,c),S.push(c),E(S)},_=function(n){return function(e,t){var o=function(n){var e=n.description.split(/\W/),t=i(e,2),o=t[0];return{challenge:t[1],number:o=Number(o),date:n.start.dateTime.substr(0,10)}}(t);if(n!==o.challenge)return e;var r=e.find(function(n){return n.date===o.date});return r?r.number+=o.number:e.push(o),e}},M=function(n){return"<li>"+n.number+" "+n.challenge+" ("+n.date+")"},T=function(n){return'<li><a href="#challenge/'+n.id+'">'+n.summary+"</a></li>"},q=function(n){return function(n){new Promise(function(n,e){n([{id:"pushups",summary:"Original pushup challenge"},{id:"situps",summary:"Clare's situp challenge"}])}).then(function(e){if(!e.length){return n('No challenges -\n        <a href="#new">Click here to add a new challenge</a>')}if(1===e.length)return n(null,"Only one event","<p>Redirecting...</p>","challenge/"+e[0].id,500);var t=e.map(T);n(null,"Challenges","<ul>"+t.join("")+"</ul>")})}},J=function(){window.scroll(0,0);var n=location.hash.substr(1).split("/");switch(w("challenge").style.display="none",w("activity").style.display="none",n[0]){case"add":return function n(e,t,i){if(b(w("addActivity"),"click",function(t){t.preventDefault(),n(e,w("number").value,i)}),!t)return w("activity").style.display="block",i(null,"Add activity",'<p>Add <a href="#challenge/'+e+'">'+e+"</a></p>");N(c,e,t),i(null,"Added activity",'<p>Added <a href="#challenge/'+e+'">'+e+"</a></p>","challenge/"+e,1e3)}(n[1],null,C);case"challenge":return function(n,e){D(c,l+n).then(function(t){console.log(n,t);var i=t.reduce(_(n),[]).map(M).join("");e(null,n,'<ul>\n      <li><a href="#add/'+n+'">Add '+n+"</a></li>\n      "+i+"\n      </ul>")})}(n[1],C);case"signout":return function(n){gapi.auth2.getAuthInstance().signOut(),n(null,"Signed you out","","",1e3)}(C)}q()(C)},R=m("script");R.src="https://apis.google.com/js/api.js",g(document.head,R),b(R,"load",function(){window.gapi?b(window,"load",function(){gapi.load("client:auth2",k)}):console.log("no gapi, maybe no cookies?"),b(w("authorise"),"click",I),b(window,"hashchange",J),location.hash=""})},function(n,e,t){"use strict";n.exports={buildDate:(new Date).toString().substr(4,17),description:Object({NODE_ENV:"production",CI_PROJECT_NAME:""}).npm_package_description,title:Object({NODE_ENV:"production",CI_PROJECT_NAME:""}).name,clientId:"1018048405199-urfev6k0pbf5hvkecalg87nk4ab1l4qq.apps.googleusercontent.com",apiKey:"AIzaSyAl21iyJ6I3_hpI0pSt-qD7ZtKFXbpCgUo",icon:"üí™",orderBy:"startTime",singleEvents:!0,calendarId:"primary",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar",serviceWorker:!0,session:{sameSite:!0}}},function(n,e,t){"use strict";var i=document.createElement.bind(document),o="removeChild",r="innerHTML";function c(n,e){n.appendChild(e)}n.exports={on:function(n,e,t){n.addEventListener(e,t,!1)},id:document.getElementById.bind(document),tag:function(n,e){return(e||document).getElementsByTagName(n)},get:function(n,e,t,i){(i=new XMLHttpRequest).open(t||"GET",n,!0),i.onload=function(){e(i.responseText,i.status)},i.send()},json:function(n,e,t,r){r="_cb"+(new Date).getTime(),(t=i("script")).src=n.replace(/(\?|$)/,"?callback="+r+"&"),c(document.body,t),window[r]=function(n){e(n),delete window[r],document.body[o](t)}},aC:c,cE:i,html:function(n,e){if(n){if("string"==typeof e)return void(n[r]=e);for(;n.lastChild;)n[o](n.lastChild);c(n,e)}}}}]);