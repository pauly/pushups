var pushups=function(n){var e={};function t(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.e)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(o,i,function(e){return n[e]}.bind(null,i));return o},t.n=function(n){var e=n&&n.e?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/pushups",t(t.s=0)}([function(n,e,t){"use strict";var o=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var t=[],o=!0,i=!1,r=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done)&&(t.push(c.value),!e||t.length!==e);o=!0);}catch(n){i=!0,r=n}finally{try{!o&&u.return&&u.return()}finally{if(i)throw r}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=t(1),r=i.apiKey,c=i.calendarId,u=i.clientId,a=i.discoveryDocs,l=i.icon,s=i.orderBy,f=i.scope,d=i.showDeleted,p=i.singleEvents,h=i.title,v=t(2),g=v.aC,m=v.cE,y=v.html,b=v.id,w=v.on,O=function(n){return n.auth2.getAuthInstance()},j=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;try{return JSON.parse(localStorage.getItem(n))}catch(n){("hmm",n)}},E=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;try{localStorage.setItem(e,JSON.stringify(n))}catch(n){("hmm",n)}},S=j()||[],A=function(){gapi.client.init({apiKey:r,clientId:u,discoveryDocs:a,scope:f}).then(function(){O(gapi).isSignedIn.listen(I),I(O(gapi).isSignedIn.get())})},I=function(n){b("authorise").style.display=n?"none":"block",b("signout").style.display=n?"list-item":"none",J()},k=function(n){gapi.auth2.getAuthInstance().signIn()},C=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments[4],r=null;n?r="<p>‚ö†Ô∏è "+n+"</p>":(r=t,e&&(r="<h2>"+e+"</h2>"+t)),y(b("content"),r),(o||i)&&setTimeout(function(){location.hash=o},i)},D=function(n,e,t){return function(n,e,t){return gapi.client.calendar.events.list({calendarId:n,timeMin:t,q:e,showDeleted:d,singleEvents:p,orderBy:s}).then(function(n){var e=n.result.items;return e&&e.length?e:j()||[]}).catch(function(n){return j()||[]})}(n,e,t).then(function(n){return ("compare",n,"with",j(),"and update if necessary"),n})},N=function(n,e,t){var o=""+l+e+" "+t,i=t+" "+e,r={dateTime:new Date},c={description:i,start:r,end:r,source:{url:location.origin,title:h},summary:o};!function n(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(o>5e3)return ("too many attempts, give up");o+=Math.floor(300*Math.random()),setTimeout(function(){gapi.client.calendar.events.insert({calendarId:e,resource:t}).execute(function(i){switch(i.code){case 403:case 429:case 503:return (i),n(e,t,o)}})},o)}(n,c),S.push(c),E(S)},_=function(n){return function(e,t){var i=function(n){var e=n.description.split(/\W/),t=o(e,2),i=t[0];return{challenge:t[1],number:i=Number(i),date:n.start.dateTime.substr(0,10)}}(t);if(n!==i.challenge)return e;var r=e.find(function(n){return n.date===i.date});return r?r.number+=i.number:e.push(i),e}},M=function(n){return"<li>"+n.number+" "+n.challenge+" ("+n.date+")"},T=function(n){return'<li><a href="#challenge/'+n.id+'">'+n.summary+"</a></li>"},q=function(n){return function(e){({calendarId:n}),new Promise(function(n,e){n([{id:"pushups",summary:"Original pushup challenge"},{id:"situps",summary:"Clare's situp challenge"}])}).then(function(n){if(({challenges:n}),!n.length){return e('No challenges -\n        <a href="#new">Click here to add a new challenge</a>')}if(1===n.length)return e(null,"Only one event","<p>Redirecting...</p>","challenge/"+n[0].id,500);var t=n.map(T);e(null,"Challenges","<ul>"+t.join("")+"</ul>")})}},J=function(){window.scroll(0,0);var n=location.hash.substr(1).split("/");switch(({path:n}),b("challenge").style.display="none",b("activity").style.display="none",b("about").style.display="none",n[0]){case"add":return function n(e,t,o){if(b("addActivity").onclick=function(t){t.preventDefault(),n(e,b("number").value,o)},!t)return b("activity").style.display="block",o(null,"Add activity",'<p>Add <a href="#challenge/'+e+'">'+e+"</a></p>");N(c,e,t),o(null,"Added activity",'<p>Added <a href="#challenge/'+e+'">'+e+"</a></p>","challenge/"+e,1e3)}(n[1],null,C);case"challenge":return function(n,e){D(c,l+n).then(function(t){var o=t.reduce(_(n),[]).map(M).join("");e(null,n,'<ul>\n      <li><a href="#add/'+n+'">Add '+n+"</a></li>\n      "+o+'\n      <li><a href="#about">About</a></li>\n      </ul>')})}(n[1],C);case"signout":return function(n){gapi.auth2.getAuthInstance().signOut(),n(null,"Signed you out","","",2e3)}(C);case"about":b("about").style.display="block"}q(c)(C)},R=m("script");R.src="https://apis.google.com/js/api.js",g(document.head,R),w(R,"load",function(){window.gapi?w(window,"load",function(){gapi.load("client:auth2",A)}):("no gapi, maybe no cookies?"),w(b("authorise"),"click",k),w(window,"hashchange",J),location.hash=""})},function(n,e,t){"use strict";n.exports={buildDate:(new Date).toString().substr(4,17),description:Object({NODE_ENV:"production",CI_PROJECT_NAME:""}).npm_package_description,title:Object({NODE_ENV:"production",CI_PROJECT_NAME:""}).name,clientId:"1018048405199-urfev6k0pbf5hvkecalg87nk4ab1l4qq.apps.googleusercontent.com",apiKey:"AIzaSyAl21iyJ6I3_hpI0pSt-qD7ZtKFXbpCgUo",icon:"üí™",orderBy:"startTime",singleEvents:!0,calendarId:"primary",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar",serviceWorker:!0,session:{sameSite:!0}}},function(n,e,t){"use strict";var o=document.createElement.bind(document),i="removeChild",r="innerHTML";function c(n,e){n.appendChild(e)}n.exports={on:function(n,e,t){n.addEventListener(e,t,!1)},id:document.getElementById.bind(document),tag:function(n,e){return(e||document).getElementsByTagName(n)},get:function(n,e,t,o){(o=new XMLHttpRequest).open(t||"GET",n,!0),o.onload=function(){e(o.responseText,o.status)},o.send()},json:function(n,e,t,r){r="_cb"+(new Date).getTime(),(t=o("script")).src=n.replace(/(\?|$)/,"?callback="+r+"&"),c(document.body,t),window[r]=function(n){e(n),delete window[r],document.body[i](t)}},aC:c,cE:o,html:function(n,e){if(n){if("string"==typeof e)return void(n[r]=e);for(;n.lastChild;)n[i](n.lastChild);c(n,e)}}}}]);